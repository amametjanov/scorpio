<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PIO: pioc_support.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIO
   &#160;<span id="projectnumber">2.0.28</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>PIO&#160;User's&#160;Guide</span></a></li>
      <li><a href="annotated.html"><span>Appendix</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_43d99ce78fde0129422a9159c5186d57.html">ParallelIO</a></li><li class="navelem"><a class="el" href="dir_141a8219d9000c6e4137175db07b6601.html">src</a></li><li class="navelem"><a class="el" href="dir_f00dc8b6574f3e86f0c5dc7c00a526e4.html">clib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pioc_support.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Support functions for the PIO library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;config.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="pio_8h_source.html">pio.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="pio__internal_8h_source.html">pio_internal.h</a>&gt;</code><br/>
<code>#include &lt;execinfo.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pioc_support.c:</div>
<div class="dyncontent">
<div class="center"><img src="pioc__support_8c__incl.png" border="0" usemap="#pioc__support_8c" alt=""/></div>
<map name="pioc__support_8c" id="pioc__support_8c">
<area shape="rect" id="node6" href="pio_8h.html" title="Public headers for the PIO C interface. " alt="" coords="199,155,249,181"/><area shape="rect" id="node10" href="pio__internal_8h.html" title="Private headers and defines for the PIO C interface. " alt="" coords="256,80,355,107"/><area shape="rect" id="node11" href="bget_8h_source.html" title="bget.h" alt="" coords="543,155,600,181"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4350e714ba9665aa0df05b404a320c3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4350e714ba9665aa0df05b404a320c3f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VERSNO</b>&#160;&#160;&#160;2001</td></tr>
<tr class="separator:a4350e714ba9665aa0df05b404a320c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0943e0b42523c317b4c867f26e44dec6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0943e0b42523c317b4c867f26e44dec6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_BACKTRACE</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a0943e0b42523c317b4c867f26e44dec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5354c4b50d70fa1cf7db81aadba8fb78"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a5354c4b50d70fa1cf7db81aadba8fb78">PIOc_strerror</a> (int pioerr, char *errmsg)</td></tr>
<tr class="memdesc:a5354c4b50d70fa1cf7db81aadba8fb78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string description of an error code.  <a href="#a5354c4b50d70fa1cf7db81aadba8fb78">More...</a><br/></td></tr>
<tr class="separator:a5354c4b50d70fa1cf7db81aadba8fb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb546dedd6290cb450577658e955edb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a1bb546dedd6290cb450577658e955edb">PIOc_set_log_level</a> (int level)</td></tr>
<tr class="memdesc:a1bb546dedd6290cb450577658e955edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the logging level if PIO was built with PIO_ENABLE_LOGGING.  <a href="#a1bb546dedd6290cb450577658e955edb">More...</a><br/></td></tr>
<tr class="separator:a1bb546dedd6290cb450577658e955edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a721f024dd47d04f5dbad622adea7ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a9a721f024dd47d04f5dbad622adea7ee">pio_init_logging</a> (void)</td></tr>
<tr class="memdesc:a9a721f024dd47d04f5dbad622adea7ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize logging.  <a href="#a9a721f024dd47d04f5dbad622adea7ee">More...</a><br/></td></tr>
<tr class="separator:a9a721f024dd47d04f5dbad622adea7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632f01eafb324a77a83b2b13912f6746"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a632f01eafb324a77a83b2b13912f6746"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a632f01eafb324a77a83b2b13912f6746">pio_finalize_logging</a> (void)</td></tr>
<tr class="memdesc:a632f01eafb324a77a83b2b13912f6746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize logging - close log files, if open. <br/></td></tr>
<tr class="separator:a632f01eafb324a77a83b2b13912f6746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59799e2a596eb8b861ea26d3b9c52034"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59799e2a596eb8b861ea26d3b9c52034"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a59799e2a596eb8b861ea26d3b9c52034">pio_init_gptl</a> (void)</td></tr>
<tr class="memdesc:a59799e2a596eb8b861ea26d3b9c52034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize GPTL timer library, if needed The library is only initialized if the timing is internal. <br/></td></tr>
<tr class="separator:a59799e2a596eb8b861ea26d3b9c52034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90dbba6c5cf9f3176aacf1affb5ae7e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90dbba6c5cf9f3176aacf1affb5ae7e2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a90dbba6c5cf9f3176aacf1affb5ae7e2">pio_finalize_gptl</a> (void)</td></tr>
<tr class="memdesc:a90dbba6c5cf9f3176aacf1affb5ae7e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize GPTL timer library, if needed The library is only finalized if the timing is internal. <br/></td></tr>
<tr class="separator:a90dbba6c5cf9f3176aacf1affb5ae7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06839094738850e58e21bf91304675a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a06839094738850e58e21bf91304675a4">print_trace</a> (FILE *fp)</td></tr>
<tr class="memdesc:a06839094738850e58e21bf91304675a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a backtrace and print it to stderr.  <a href="#a06839094738850e58e21bf91304675a4">More...</a><br/></td></tr>
<tr class="separator:a06839094738850e58e21bf91304675a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48e7b22db921c963efdad2551eb8bec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#ad48e7b22db921c963efdad2551eb8bec">piodie</a> (const char *fname, int line, const char *fmt,...)</td></tr>
<tr class="memdesc:ad48e7b22db921c963efdad2551eb8bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort program and call MPI_Abort().  <a href="#ad48e7b22db921c963efdad2551eb8bec">More...</a><br/></td></tr>
<tr class="separator:ad48e7b22db921c963efdad2551eb8bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762886113a7422e056c96c6c533cd82b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a762886113a7422e056c96c6c533cd82b">pioassert</a> (_Bool expression, const char *msg, const char *fname, int line)</td></tr>
<tr class="memdesc:a762886113a7422e056c96c6c533cd82b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an assert.  <a href="#a762886113a7422e056c96c6c533cd82b">More...</a><br/></td></tr>
<tr class="separator:a762886113a7422e056c96c6c533cd82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23de97973c9b5221520ef6335b9040d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a23de97973c9b5221520ef6335b9040d4">check_mpi</a> (<a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *ios, <a class="el" href="structfile__desc__t.html">file_desc_t</a> *file, int mpierr, const char *filename, int line)</td></tr>
<tr class="memdesc:a23de97973c9b5221520ef6335b9040d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle MPI errors.  <a href="#a23de97973c9b5221520ef6335b9040d4">More...</a><br/></td></tr>
<tr class="separator:a23de97973c9b5221520ef6335b9040d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca225ca1aafcab9921fc9cd44c49d1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#aaca225ca1aafcab9921fc9cd44c49d1d">check_netcdf</a> (<a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *ios, <a class="el" href="structfile__desc__t.html">file_desc_t</a> *file, int status, const char *fname, int line)</td></tr>
<tr class="memdesc:aaca225ca1aafcab9921fc9cd44c49d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the result of a netCDF API call.  <a href="#aaca225ca1aafcab9921fc9cd44c49d1d">More...</a><br/></td></tr>
<tr class="separator:aaca225ca1aafcab9921fc9cd44c49d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cad6032691dd35cfe2e766b8eb6e63f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a0cad6032691dd35cfe2e766b8eb6e63f">pio_err</a> (<a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *ios, <a class="el" href="structfile__desc__t.html">file_desc_t</a> *file, int err_num, const char *fname, int line, const char *uerr_msg_fmt,...)</td></tr>
<tr class="memdesc:a0cad6032691dd35cfe2e766b8eb6e63f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle an error in PIO.  <a href="#a0cad6032691dd35cfe2e766b8eb6e63f">More...</a><br/></td></tr>
<tr class="separator:a0cad6032691dd35cfe2e766b8eb6e63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb8cb5bbf198ce481dd78e4447beb19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#aedb8cb5bbf198ce481dd78e4447beb19">alloc_region2</a> (<a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *ios, int ndims, <a class="el" href="structio__region.html">io_region</a> **regionp)</td></tr>
<tr class="memdesc:aedb8cb5bbf198ce481dd78e4447beb19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a region struct, and initialize it.  <a href="#aedb8cb5bbf198ce481dd78e4447beb19">More...</a><br/></td></tr>
<tr class="separator:aedb8cb5bbf198ce481dd78e4447beb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae827623f5a38c2614a01fdb897f69a4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#ae827623f5a38c2614a01fdb897f69a4c">find_mpi_type</a> (int pio_type, MPI_Datatype *mpi_type, int *type_size)</td></tr>
<tr class="memdesc:ae827623f5a38c2614a01fdb897f69a4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a PIO type, find the MPI type and the type size.  <a href="#ae827623f5a38c2614a01fdb897f69a4c">More...</a><br/></td></tr>
<tr class="separator:ae827623f5a38c2614a01fdb897f69a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad991769a22107d115d9574c152ce8ce3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#ad991769a22107d115d9574c152ce8ce3">malloc_iodesc</a> (<a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *ios, int piotype, int ndims, <a class="el" href="structio__desc__t.html">io_desc_t</a> **iodesc)</td></tr>
<tr class="memdesc:ad991769a22107d115d9574c152ce8ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate space for an IO description struct, and initialize it.  <a href="#ad991769a22107d115d9574c152ce8ce3">More...</a><br/></td></tr>
<tr class="separator:ad991769a22107d115d9574c152ce8ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1092f6a8ae5d9037a9d42642f3a191"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a7b1092f6a8ae5d9037a9d42642f3a191">free_region_list</a> (<a class="el" href="structio__region.html">io_region</a> *top)</td></tr>
<tr class="memdesc:a7b1092f6a8ae5d9037a9d42642f3a191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a region list.  <a href="#a7b1092f6a8ae5d9037a9d42642f3a191">More...</a><br/></td></tr>
<tr class="separator:a7b1092f6a8ae5d9037a9d42642f3a191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6416ad3c81a99f31f8f55e857acd697e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a6416ad3c81a99f31f8f55e857acd697e">PIOc_freedecomp</a> (int iosysid, int ioid)</td></tr>
<tr class="memdesc:a6416ad3c81a99f31f8f55e857acd697e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a decomposition map.  <a href="#a6416ad3c81a99f31f8f55e857acd697e">More...</a><br/></td></tr>
<tr class="separator:a6416ad3c81a99f31f8f55e857acd697e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bb612a73ecfdf88920ccb69e9893d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a60bb612a73ecfdf88920ccb69e9893d0">PIOc_readmap</a> (const char *file, int *ndims, int **gdims, PIO_Offset *fmaplen, PIO_Offset **map, MPI_Comm comm)</td></tr>
<tr class="memdesc:a60bb612a73ecfdf88920ccb69e9893d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a decomposition map from a file.  <a href="#a60bb612a73ecfdf88920ccb69e9893d0">More...</a><br/></td></tr>
<tr class="separator:a60bb612a73ecfdf88920ccb69e9893d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8afdc0335a14a2b57a07fe31f5a28e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a0b8afdc0335a14a2b57a07fe31f5a28e">PIOc_readmap_from_f90</a> (const char *file, int *ndims, int **gdims, PIO_Offset *maplen, PIO_Offset **map, int f90_comm)</td></tr>
<tr class="memdesc:a0b8afdc0335a14a2b57a07fe31f5a28e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a decomposition map from file.  <a href="#a0b8afdc0335a14a2b57a07fe31f5a28e">More...</a><br/></td></tr>
<tr class="separator:a0b8afdc0335a14a2b57a07fe31f5a28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d698d00504b20962c3bf8f8867c4f2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a9d698d00504b20962c3bf8f8867c4f2c">PIOc_write_nc_decomp</a> (int iosysid, const char *filename, int cmode, int ioid, char *title, char *history, int fortran_order)</td></tr>
<tr class="memdesc:a9d698d00504b20962c3bf8f8867c4f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the decomposition map to a file using netCDF, everyones favorite data format.  <a href="#a9d698d00504b20962c3bf8f8867c4f2c">More...</a><br/></td></tr>
<tr class="separator:a9d698d00504b20962c3bf8f8867c4f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afebbacda596e27882dace25a133e3c67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#afebbacda596e27882dace25a133e3c67">PIOc_read_nc_decomp</a> (int iosysid, const char *filename, int *ioidp, MPI_Comm comm, int pio_type, char *title, char *history, int *fortran_order)</td></tr>
<tr class="memdesc:afebbacda596e27882dace25a133e3c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the decomposition map from a netCDF decomp file produced by <a class="el" href="pioc__support_8c.html#a9d698d00504b20962c3bf8f8867c4f2c" title="Write the decomposition map to a file using netCDF, everyones favorite data format. ">PIOc_write_nc_decomp()</a>.  <a href="#afebbacda596e27882dace25a133e3c67">More...</a><br/></td></tr>
<tr class="separator:afebbacda596e27882dace25a133e3c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825a5756e45d6090f6eb672481efaeb3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a825a5756e45d6090f6eb672481efaeb3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pioc_write_nc_decomp_int</b> (<a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *ios, const char *filename, int cmode, int ndims, int *global_dimlen, int num_tasks, int *task_maplen, int *map, const char *title, const char *history, int fortran_order)</td></tr>
<tr class="separator:a825a5756e45d6090f6eb672481efaeb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b29912a68d6152e4a1ec5eca683314"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8b29912a68d6152e4a1ec5eca683314"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pioc_read_nc_decomp_int</b> (int iosysid, const char *filename, int *ndims, int **global_dimlen, int *num_tasks, int **task_maplen, int *max_maplen, int **map, char *title, char *history, char *source, char *version, int *fortran_order)</td></tr>
<tr class="separator:ad8b29912a68d6152e4a1ec5eca683314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4584849f62a2587b9f44588c00aff9b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#af4584849f62a2587b9f44588c00aff9b">PIOc_write_decomp</a> (const char *file, int iosysid, int ioid, MPI_Comm comm)</td></tr>
<tr class="memdesc:af4584849f62a2587b9f44588c00aff9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the decomposition map to a file.  <a href="#af4584849f62a2587b9f44588c00aff9b">More...</a><br/></td></tr>
<tr class="separator:af4584849f62a2587b9f44588c00aff9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89268742840eb4d21fcf1dddc54b43ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a89268742840eb4d21fcf1dddc54b43ef">PIOc_writemap</a> (const char *file, int ioid, int ndims, const int *gdims, PIO_Offset maplen, PIO_Offset *map, MPI_Comm comm)</td></tr>
<tr class="memdesc:a89268742840eb4d21fcf1dddc54b43ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the decomposition map to a file.  <a href="#a89268742840eb4d21fcf1dddc54b43ef">More...</a><br/></td></tr>
<tr class="separator:a89268742840eb4d21fcf1dddc54b43ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac1d638ca2acfc4936030861eae90f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a6ac1d638ca2acfc4936030861eae90f1">PIOc_writemap_from_f90</a> (const char *file, int ioid, int ndims, const int *gdims, PIO_Offset maplen, const PIO_Offset *map, int f90_comm)</td></tr>
<tr class="memdesc:a6ac1d638ca2acfc4936030861eae90f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the decomposition map to a file for F90.  <a href="#a6ac1d638ca2acfc4936030861eae90f1">More...</a><br/></td></tr>
<tr class="separator:a6ac1d638ca2acfc4936030861eae90f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a759592a9044474acebb54c7ff2f5878c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a759592a9044474acebb54c7ff2f5878c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>PIO_get_avail_iotypes</b> (char *buf, size_t sz)</td></tr>
<tr class="separator:a759592a9044474acebb54c7ff2f5878c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa48e273e52a910db01e01f0c538800d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o__createfile.html#gafa48e273e52a910db01e01f0c538800d">PIOc_createfile_int</a> (int iosysid, int *ncidp, int *iotype, const char *filename, int mode)</td></tr>
<tr class="memdesc:gafa48e273e52a910db01e01f0c538800d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new file using pio.  <a href="group___p_i_o__createfile.html#gafa48e273e52a910db01e01f0c538800d">More...</a><br/></td></tr>
<tr class="separator:gafa48e273e52a910db01e01f0c538800d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f2e99bf3d141d67c06c3b7ea02ffbf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a0f2e99bf3d141d67c06c3b7ea02ffbf1">check_unlim_use</a> (int ncid)</td></tr>
<tr class="memdesc:a0f2e99bf3d141d67c06c3b7ea02ffbf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that a file meets PIO requirements for use of unlimited dimensions.  <a href="#a0f2e99bf3d141d67c06c3b7ea02ffbf1">More...</a><br/></td></tr>
<tr class="separator:a0f2e99bf3d141d67c06c3b7ea02ffbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840c375f53e5e38142762c8cb30fcdc6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o__openfile.html#ga840c375f53e5e38142762c8cb30fcdc6">PIOc_openfile_retry</a> (int iosysid, int *ncidp, int *iotype, const char *filename, int mode, int retry)</td></tr>
<tr class="memdesc:ga840c375f53e5e38142762c8cb30fcdc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an existing file using PIO library.  <a href="group___p_i_o__openfile.html#ga840c375f53e5e38142762c8cb30fcdc6">More...</a><br/></td></tr>
<tr class="separator:ga840c375f53e5e38142762c8cb30fcdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga921d6b54c125b84e10caf2546fd3f580"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o__openfile.html#ga921d6b54c125b84e10caf2546fd3f580">openfile_int</a> (int iosysid, int *ncidp, int *iotype, const char *filename, int mode, int retry)</td></tr>
<tr class="memdesc:ga921d6b54c125b84e10caf2546fd3f580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function used when opening an existing file.  <a href="group___p_i_o__openfile.html#ga921d6b54c125b84e10caf2546fd3f580">More...</a><br/></td></tr>
<tr class="separator:ga921d6b54c125b84e10caf2546fd3f580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad0201e540769b008670fdde0b3a5e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#afad0201e540769b008670fdde0b3a5e0">pioc_pnetcdf_inq_type</a> (int ncid, nc_type xtype, char *name, PIO_Offset *sizep)</td></tr>
<tr class="memdesc:afad0201e540769b008670fdde0b3a5e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to provide inq_type function for pnetcdf.  <a href="#afad0201e540769b008670fdde0b3a5e0">More...</a><br/></td></tr>
<tr class="separator:afad0201e540769b008670fdde0b3a5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7668416ef848e0e94934a54ba7ee7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#abf7668416ef848e0e94934a54ba7ee7f">pioc_change_def</a> (int ncid, int is_enddef)</td></tr>
<tr class="memdesc:abf7668416ef848e0e94934a54ba7ee7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an internal function that handles both PIOc_enddef and PIOc_redef.  <a href="#abf7668416ef848e0e94934a54ba7ee7f">More...</a><br/></td></tr>
<tr class="separator:abf7668416ef848e0e94934a54ba7ee7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4b989cc5c8182d64eed8dfd3519fbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a0c4b989cc5c8182d64eed8dfd3519fbf">iotype_is_valid</a> (int iotype)</td></tr>
<tr class="memdesc:a0c4b989cc5c8182d64eed8dfd3519fbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether an IO type is valid for the build.  <a href="#a0c4b989cc5c8182d64eed8dfd3519fbf">More...</a><br/></td></tr>
<tr class="separator:a0c4b989cc5c8182d64eed8dfd3519fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140c4683cc495c2de9381eb76dd1407b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a140c4683cc495c2de9381eb76dd1407b">cmp_rearr_comm_fc_opts</a> (const <a class="el" href="pio_8h.html#a33bec608b2c9dd2e2855f7adcc23c7c2">rearr_comm_fc_opt_t</a> *opt, const <a class="el" href="pio_8h.html#a33bec608b2c9dd2e2855f7adcc23c7c2">rearr_comm_fc_opt_t</a> *exp_opt)</td></tr>
<tr class="memdesc:a140c4683cc495c2de9381eb76dd1407b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to compare rearranger flow control options.  <a href="#a140c4683cc495c2de9381eb76dd1407b">More...</a><br/></td></tr>
<tr class="separator:a140c4683cc495c2de9381eb76dd1407b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9bf7e757fc6ae104ca37e7a33183a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a0f9bf7e757fc6ae104ca37e7a33183a9">cmp_rearr_opts</a> (const <a class="el" href="pio_8h.html#af676ea8a0aa46e2f1a2cc2b6dc8c7569">rearr_opt_t</a> *rearr_opts, const <a class="el" href="pio_8h.html#af676ea8a0aa46e2f1a2cc2b6dc8c7569">rearr_opt_t</a> *exp_rearr_opts)</td></tr>
<tr class="memdesc:a0f9bf7e757fc6ae104ca37e7a33183a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to compare rearranger options.  <a href="#a0f9bf7e757fc6ae104ca37e7a33183a9">More...</a><br/></td></tr>
<tr class="separator:a0f9bf7e757fc6ae104ca37e7a33183a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36f410d2891f0277452feb94db27c21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#ae36f410d2891f0277452feb94db27c21">check_and_reset_rearr_opts</a> (<a class="el" href="pio_8h.html#af676ea8a0aa46e2f1a2cc2b6dc8c7569">rearr_opt_t</a> *<a class="el" href="structrearr__opt.html">rearr_opt</a>)</td></tr>
<tr class="memdesc:ae36f410d2891f0277452feb94db27c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to reset rearranger opts in iosystem to valid values.  <a href="#ae36f410d2891f0277452feb94db27c21">More...</a><br/></td></tr>
<tr class="separator:ae36f410d2891f0277452feb94db27c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f6203d1174297028f80edb8c64c377"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#af0f6203d1174297028f80edb8c64c377">PIOc_set_rearr_opts</a> (int iosysid, int comm_type, int fcd, bool enable_hs_c2i, bool enable_isend_c2i, int max_pend_req_c2i, bool enable_hs_i2c, bool enable_isend_i2c, int max_pend_req_i2c)</td></tr>
<tr class="memdesc:af0f6203d1174297028f80edb8c64c377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the rearranger options associated with an iosystem.  <a href="#af0f6203d1174297028f80edb8c64c377">More...</a><br/></td></tr>
<tr class="separator:af0f6203d1174297028f80edb8c64c377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6595b4f6afab32ddf80230ad4f9993ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6595b4f6afab32ddf80230ad4f9993ea"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>calc_var_rec_sz</b> (int ncid, int varid)</td></tr>
<tr class="separator:a6595b4f6afab32ddf80230ad4f9993ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42b79563b8b9aef464bca26344f2a2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac42b79563b8b9aef464bca26344f2a2e"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>get_var_desc_str</b> (int ncid, int varid, const char *desc_prefix)</td></tr>
<tr class="separator:ac42b79563b8b9aef464bca26344f2a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a34f57fc3e783886a27c30ce1a74e64a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34f57fc3e783886a27c30ce1a74e64a8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pio_timer_ref_cnt</b> = 0</td></tr>
<tr class="separator:a34f57fc3e783886a27c30ce1a74e64a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937d6c04c95c3e58980353953d831df5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#a937d6c04c95c3e58980353953d831df5">pio_next_ncid</a></td></tr>
<tr class="memdesc:a937d6c04c95c3e58980353953d831df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The PIO library maintains its own set of ncids.  <a href="#a937d6c04c95c3e58980353953d831df5">More...</a><br/></td></tr>
<tr class="separator:a937d6c04c95c3e58980353953d831df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51ffd0af16fbe64b37ed23b3c10700a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pioc__support_8c.html#aa51ffd0af16fbe64b37ed23b3c10700a">default_error_handler</a></td></tr>
<tr class="memdesc:aa51ffd0af16fbe64b37ed23b3c10700a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default error handler used when iosystem cannot be located.  <a href="#aa51ffd0af16fbe64b37ed23b3c10700a">More...</a><br/></td></tr>
<tr class="separator:aa51ffd0af16fbe64b37ed23b3c10700a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920a5296fb9e5b4b7044b58c8d27b209"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a920a5296fb9e5b4b7044b58c8d27b209"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fortran_order</b></td></tr>
<tr class="separator:a920a5296fb9e5b4b7044b58c8d27b209"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Support functions for the PIO library. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aedb8cb5bbf198ce481dd78e4447beb19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alloc_region2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *&#160;</td>
          <td class="paramname"><em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structio__region.html">io_region</a> **&#160;</td>
          <td class="paramname"><em>regionp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a region struct, and initialize it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ios</td><td>pointer to the IO system info, used for error handling. Ignored if NULL. </td></tr>
    <tr><td class="paramname">ndims</td><td>the number of dimensions for the data in this region. </td></tr>
    <tr><td class="paramname">a</td><td>pointer that gets a pointer to the newly allocated <a class="el" href="structio__region.html" title="IO region structure. ">io_region</a> struct. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ae36f410d2891f0277452feb94db27c21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_and_reset_rearr_opts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pio_8h.html#af676ea8a0aa46e2f1a2cc2b6dc8c7569">rearr_opt_t</a> *&#160;</td>
          <td class="paramname"><em>rearr_opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal function to reset rearranger opts in iosystem to valid values. </p>
<p>The only values reset here are options that are not set (or of interest) to the user. e.g. Setting the io2comp/comp2io settings to defaults when user chooses coll for rearrangement. The old default for max pending requests was DEF_P2P_MAXREQ = 64.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structrearr__opt.html" title="Rearranger options. ">rearr_opt</a></td><td>pointer to rearranger options </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return error if the <a class="el" href="structrearr__opt.html" title="Rearranger options. ">rearr_opt</a> is invalid </dd></dl>

</div>
</div>
<a class="anchor" id="a23de97973c9b5221520ef6335b9040d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_mpi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *&#160;</td>
          <td class="paramname"><em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfile__desc__t.html">file_desc_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpierr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle MPI errors. </p>
<p>An error message is sent to stderr, then the <a class="el" href="pioc__support_8c.html#aaca225ca1aafcab9921fc9cd44c49d1d" title="Check the result of a netCDF API call. ">check_netcdf()</a> function is called with PIO_EIO. This version of the function accepts an ios parameter, for the (rare) occasions where we have an ios but not a file. (Not a collective call)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ios</td><td>pointer to the iosystem_info_t. May be NULL. </td></tr>
    <tr><td class="paramname">file</td><td>pointer to the <a class="el" href="structfile__desc__t.html" title="File descriptor structure. ">file_desc_t</a> info. May be NULL. </td></tr>
    <tr><td class="paramname">mpierr</td><td>the MPI return code to handle </td></tr>
    <tr><td class="paramname">filename</td><td>the name of the code file where error occured. </td></tr>
    <tr><td class="paramname">line</td><td>the line of code where error occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PIO_NOERR for no error, otherwise PIO_EIO. </dd></dl>

</div>
</div>
<a class="anchor" id="aaca225ca1aafcab9921fc9cd44c49d1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_netcdf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *&#160;</td>
          <td class="paramname"><em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfile__desc__t.html">file_desc_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the result of a netCDF API call. </p>
<p>(Collective call for file/ios with error handler != PIO_RETURN_ERROR)</p>
<p>PIO_INTERNAL_ERROR : Abort (inside PIO) on error from any MPI process PIO_RETURN_ERROR : Return error back to the user (Allow the user to handle the error. Each MPI process just returns the error code back to the user) PIO_BCAST_ERROR : Broadcast error code from I/O process with rank 0 (in the I/O communicator) to all processes. PIO_REDUCE_ERROR : Reduce error codes across all processes (and log the error codes from each process). This error handler detects error in any process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ios</td><td>pointer to the iosystem description struct. Ignored if NULL. </td></tr>
    <tr><td class="paramname">file</td><td>pointer to the PIO structure describing this file. Ignored if NULL. </td></tr>
    <tr><td class="paramname">status</td><td>the return value from the netCDF call. </td></tr>
    <tr><td class="paramname">fname</td><td>the name of the code file. </td></tr>
    <tr><td class="paramname">line</td><td>the line number of the netCDF call in the code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the error code </dd></dl>

</div>
</div>
<a class="anchor" id="a0f2e99bf3d141d67c06c3b7ea02ffbf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_unlim_use </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that a file meets PIO requirements for use of unlimited dimensions. </p>
<p>This function is only called on netCDF-4 files. If the file is found to violate PIO requirements it is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ncid</td><td>the file-&gt;fh for this file (the real netCDF ncid, not the pio_ncid). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if file is OK, error code otherwise. </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ed Hartnett </dd></dl>

</div>
</div>
<a class="anchor" id="a140c4683cc495c2de9381eb76dd1407b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cmp_rearr_comm_fc_opts </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pio_8h.html#a33bec608b2c9dd2e2855f7adcc23c7c2">rearr_comm_fc_opt_t</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="pio_8h.html#a33bec608b2c9dd2e2855f7adcc23c7c2">rearr_comm_fc_opt_t</a> *&#160;</td>
          <td class="paramname"><em>exp_opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal function to compare rearranger flow control options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>pointer to rearranger flow control options to compare. </td></tr>
    <tr><td class="paramname">exp_opt</td><td>pointer to rearranger flow control options with expected values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if values in opt == values in exp_opt, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a0f9bf7e757fc6ae104ca37e7a33183a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cmp_rearr_opts </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pio_8h.html#af676ea8a0aa46e2f1a2cc2b6dc8c7569">rearr_opt_t</a> *&#160;</td>
          <td class="paramname"><em>rearr_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="pio_8h.html#af676ea8a0aa46e2f1a2cc2b6dc8c7569">rearr_opt_t</a> *&#160;</td>
          <td class="paramname"><em>exp_rearr_opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal function to compare rearranger options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rearr_opts</td><td>pointer to rearranger options to compare </td></tr>
    <tr><td class="paramname">exp_rearr_opts</td><td>pointer to rearranger options with the expected value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if values in rearr_opts == values in exp_rearr_opts false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ae827623f5a38c2614a01fdb897f69a4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_mpi_type </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pio_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Datatype *&#160;</td>
          <td class="paramname"><em>mpi_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>type_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a PIO type, find the MPI type and the type size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pio_type</td><td>a PIO type, PIO_INT, PIO_FLOAT, etc. </td></tr>
    <tr><td class="paramname">mpi_type</td><td>a pointer to MPI_Datatype that will get the MPI type that coresponds to the PIO type. Ignored if NULL. </td></tr>
    <tr><td class="paramname">type_size</td><td>a pointer to int that will get the size of the type, in bytes. (For example, 4 for PIO_INT). Ignored if NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a7b1092f6a8ae5d9037a9d42642f3a191"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_region_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structio__region.html">io_region</a> *&#160;</td>
          <td class="paramname"><em>top</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a region list. </p>
<p>top a pointer to the start of the list to free. </p>

</div>
</div>
<a class="anchor" id="a0c4b989cc5c8182d64eed8dfd3519fbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iotype_is_valid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iotype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether an IO type is valid for the build. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iotype</td><td>the IO type to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if not valid, non-zero otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ad991769a22107d115d9574c152ce8ce3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int malloc_iodesc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *&#160;</td>
          <td class="paramname"><em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>piotype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structio__desc__t.html">io_desc_t</a> **&#160;</td>
          <td class="paramname"><em>iodesc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate space for an IO description struct, and initialize it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ios</td><td>pointer to the IO system info, used for error handling. </td></tr>
    <tr><td class="paramname">piotype</td><td>the PIO data type (ex. PIO_FLOAT, PIO_INT, etc.). </td></tr>
    <tr><td class="paramname">ndims</td><td>the number of dimensions. </td></tr>
    <tr><td class="paramname">iodesc</td><td>pointer that gets the newly allocated <a class="el" href="structio__desc__t.html" title="IO descriptor structure. ">io_desc_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a0cad6032691dd35cfe2e766b8eb6e63f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pio_err </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiosystem__desc__t.html">iosystem_desc_t</a> *&#160;</td>
          <td class="paramname"><em>ios</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfile__desc__t.html">file_desc_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uerr_msg_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle an error in PIO. </p>
<p>This will consult the error handler settings and either call MPI_Abort() or return an error code. (Not a collective call)</p>
<p>If the error handler is set to PIO_INTERNAL_ERROR an error results in an internal abort. For all other error handlers the function returns a PIO error code back to the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ios</td><td>pointer to the IO system info. Ignored if NULL. </td></tr>
    <tr><td class="paramname">file</td><td>pointer to the file description data. Ignored if NULL. If provided file-&gt;iosystem is used as ios pointer. </td></tr>
    <tr><td class="paramname">err_num</td><td>the error code </td></tr>
    <tr><td class="paramname">fname</td><td>name of code file where error occured. </td></tr>
    <tr><td class="paramname">line</td><td>the line of code where the error occurred. </td></tr>
    <tr><td class="paramname">uerr_msg_fmt</td><td>User error message format </td></tr>
    <tr><td class="paramname">...</td><td>User error message arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_num if abort is not called. </dd></dl>

</div>
</div>
<a class="anchor" id="a9a721f024dd47d04f5dbad622adea7ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pio_init_logging </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize logging. </p>
<p>Open log file, if not opened yet, or increment ref count if already open. </p>

</div>
</div>
<a class="anchor" id="a762886113a7422e056c96c6c533cd82b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pioassert </td>
          <td>(</td>
          <td class="paramtype">_Bool&#160;</td>
          <td class="paramname"><em>expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an assert. </p>
<p>Note that this function does nothing if NDEBUG is defined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">expression</td><td>the expression to be evaluated </td></tr>
    <tr><td class="paramname">msg</td><td>an error message </td></tr>
    <tr><td class="paramname">fname</td><td>name of code file where error occured </td></tr>
    <tr><td class="paramname">line</td><td>the line of code where the error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf7668416ef848e0e94934a54ba7ee7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pioc_change_def </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_enddef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an internal function that handles both PIOc_enddef and PIOc_redef. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ncid</td><td>the ncid of the file to enddef or redef </td></tr>
    <tr><td class="paramname">is_enddef</td><td>set to non-zero for enddef, 0 for redef. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PIO_NOERR on success, error code on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a6416ad3c81a99f31f8f55e857acd697e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_freedecomp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iosysid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ioid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a decomposition map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iosysid</td><td>the IO system ID. </td></tr>
    <tr><td class="paramname">ioid</td><td>the ID of the decomposition map to free. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="afad0201e540769b008670fdde0b3a5e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pioc_pnetcdf_inq_type </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nc_type&#160;</td>
          <td class="paramname"><em>xtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset *&#160;</td>
          <td class="paramname"><em>sizep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal function to provide inq_type function for pnetcdf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ncid</td><td>ignored because pnetcdf does not have user-defined types. </td></tr>
    <tr><td class="paramname">xtype</td><td>type to learn about. </td></tr>
    <tr><td class="paramname">name</td><td>pointer that gets name of type. Ignored if NULL. </td></tr>
    <tr><td class="paramname">sizep</td><td>pointer that gets size of type. Ignored if NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="afebbacda596e27882dace25a133e3c67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_read_nc_decomp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iosysid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ioidp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pio_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fortran_order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the decomposition map from a netCDF decomp file produced by <a class="el" href="pioc__support_8c.html#a9d698d00504b20962c3bf8f8867c4f2c" title="Write the decomposition map to a file using netCDF, everyones favorite data format. ">PIOc_write_nc_decomp()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iosysid</td><td>the IO system ID. </td></tr>
    <tr><td class="paramname">filename</td><td>the name of the decomp file. </td></tr>
    <tr><td class="paramname">ioid</td><td>pointer that will get the newly-assigned ID of the IO description. The ioid is needed to later free the decomposition. </td></tr>
    <tr><td class="paramname">comm</td><td>an MPI communicator. </td></tr>
    <tr><td class="paramname">pio_type</td><td>the PIO type to be used as the type for the data. </td></tr>
    <tr><td class="paramname">title</td><td>pointer that will get optial title attribute for the file. Will be less than PIO_MAX_NAME + 1 if provided. Ignored if NULL. </td></tr>
    <tr><td class="paramname">history</td><td>pointer that will get optial history attribute for the file. Will be less than PIO_MAX_NAME + 1 if provided. Ignored if NULL. </td></tr>
    <tr><td class="paramname">fortran_order</td><td>pointer that gets set to 1 if fortran array ordering is used, or to zero if C array ordering is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a60bb612a73ecfdf88920ccb69e9893d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_readmap </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>gdims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset *&#160;</td>
          <td class="paramname"><em>fmaplen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset **&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a decomposition map from a file. </p>
<p>The decomp file is only read by task 0 in the communicator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>the filename </td></tr>
    <tr><td class="paramname">ndims</td><td>pointer to an int with the number of dims. </td></tr>
    <tr><td class="paramname">gdims</td><td>pointer to an array of dimension ids. </td></tr>
    <tr><td class="paramname">fmaplen</td><td></td></tr>
    <tr><td class="paramname">map</td><td></td></tr>
    <tr><td class="paramname">comm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b8afdc0335a14a2b57a07fe31f5a28e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_readmap_from_f90 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>gdims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset *&#160;</td>
          <td class="paramname"><em>maplen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset **&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f90_comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a decomposition map from file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>the filename </td></tr>
    <tr><td class="paramname">ndims</td><td>pointer to the number of dimensions </td></tr>
    <tr><td class="paramname">gdims</td><td>pointer to an array of dimension ids </td></tr>
    <tr><td class="paramname">maplen</td><td>pointer to the length of the map </td></tr>
    <tr><td class="paramname">map</td><td>pointer to the map array </td></tr>
    <tr><td class="paramname">f90_comm</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a1bb546dedd6290cb450577658e955edb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_set_log_level </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the logging level if PIO was built with PIO_ENABLE_LOGGING. </p>
<p>Set to -1 for nothing, 0 for errors only, 1 for important logging, and so on. Log levels below 1 are only printed on the io/component root.</p>
<p>A log file is also produced for each task. The file is called pio_log_X.txt, where X is the (0-based) task number.</p>
<p>If the library is not built with logging, this function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>the logging level, 0 for errors only, 5 for max verbosity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="af0f6203d1174297028f80edb8c64c377"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_set_rearr_opts </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iosysid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>comm_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable_hs_c2i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable_isend_c2i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_pend_req_c2i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable_hs_i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable_isend_i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_pend_req_i2c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the rearranger options associated with an iosystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm_type</td><td>Type of communication (pt2pt/coll) used by the rearranger. See PIO_REARR_COMM_TYPE for more detail. Possible values are : PIO_REARR_COMM_P2P (Point to point communication) PIO_REARR_COMM_COLL (Collective communication) </td></tr>
    <tr><td class="paramname">fcd</td><td>Flow control direction for the rearranger. See PIO_REARR_COMM_FC_DIR for more detail. Possible values are : PIO_REARR_COMM_FC_2D_ENABLE : Enable flow control from compute processes to io processes and vice versa PIO_REARR_COMM_FC_1D_COMP2IO : Enable flow control from compute processes to io processes (only) PIO_REARR_COMM_FC_1D_IO2COMP : Enable flow control from io processes to compute processes (only) PIO_REARR_COMM_FC_2D_DISABLE : Disable flow control from compute processes to io processes and vice versa. </td></tr>
    <tr><td class="paramname">enable_hs_c2i</td><td>Enable handshake while rearranging data, from compute to io processes </td></tr>
    <tr><td class="paramname">enable_isend_c2i</td><td>Enable isends while rearranging data, from compute to io processes </td></tr>
    <tr><td class="paramname">max_pend_req_c2i</td><td>Maximum pending requests during data rearragment from compute processes to io processes </td></tr>
    <tr><td class="paramname">enable_hs_i2c</td><td>Enable handshake while rearranging data, from io to compute processes </td></tr>
    <tr><td class="paramname">enable_isend_i2c</td><td>Enable isends while rearranging data, from io to compute processes </td></tr>
    <tr><td class="paramname">max_pend_req_i2c</td><td>Maximum pending requests during data rearragment from io processes to compute processes </td></tr>
    <tr><td class="paramname">iosysidp</td><td>index of the defined system descriptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise a PIO error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a5354c4b50d70fa1cf7db81aadba8fb78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_strerror </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pioerr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>errmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a string description of an error code. </p>
<p>If zero is passed, the errmsg will be "No error".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pioerr</td><td>the error code returned by a PIO function call. </td></tr>
    <tr><td class="paramname">errmsg</td><td>Pointer that will get the error message. The message will be PIO_MAX_NAME chars or less. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd></dl>

</div>
</div>
<a class="anchor" id="af4584849f62a2587b9f44588c00aff9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_write_decomp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iosysid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ioid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the decomposition map to a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>the filename to be used. </td></tr>
    <tr><td class="paramname">iosysid</td><td>the IO system ID. </td></tr>
    <tr><td class="paramname">ioid</td><td>the ID of the IO description. </td></tr>
    <tr><td class="paramname">comm</td><td>an MPI communicator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d698d00504b20962c3bf8f8867c4f2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_write_nc_decomp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iosysid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ioid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fortran_order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the decomposition map to a file using netCDF, everyones favorite data format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iosysid</td><td>the IO system ID. </td></tr>
    <tr><td class="paramname">filename</td><td>the filename to be used. </td></tr>
    <tr><td class="paramname">cmode</td><td>for <a class="el" href="pio_8h.html#ad31670417f971b11f52c8d919d738778" title="Open a new file using pio. ">PIOc_create()</a>. Will be bitwise or'd with NC_WRITE. </td></tr>
    <tr><td class="paramname">ioid</td><td>the ID of the IO description. </td></tr>
    <tr><td class="paramname">title</td><td>optial title attribute for the file. Must be less than PIO_MAX_NAME + 1 if provided. Ignored if NULL. </td></tr>
    <tr><td class="paramname">history</td><td>optial history attribute for the file. Must be less than PIO_MAX_NAME + 1 if provided. Ignored if NULL. </td></tr>
    <tr><td class="paramname">fortran_order</td><td>set to non-zero if fortran array ordering is used, or to zero if C array ordering is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a89268742840eb4d21fcf1dddc54b43ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_writemap </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ioid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>gdims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset&#160;</td>
          <td class="paramname"><em>maplen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the decomposition map to a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>the filename </td></tr>
    <tr><td class="paramname">ioid</td><td>id of the decomposition </td></tr>
    <tr><td class="paramname">ndims</td><td>the number of dimensions </td></tr>
    <tr><td class="paramname">gdims</td><td>an array of dimension ids </td></tr>
    <tr><td class="paramname">maplen</td><td>the length of the map </td></tr>
    <tr><td class="paramname">map</td><td>the map array </td></tr>
    <tr><td class="paramname">comm</td><td>an MPI communicator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a6ac1d638ca2acfc4936030861eae90f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PIOc_writemap_from_f90 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ioid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>gdims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO_Offset&#160;</td>
          <td class="paramname"><em>maplen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PIO_Offset *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f90_comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the decomposition map to a file for F90. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>the filename </td></tr>
    <tr><td class="paramname">ndims</td><td>the number of dimensions </td></tr>
    <tr><td class="paramname">gdims</td><td>an array of dimension ids </td></tr>
    <tr><td class="paramname">maplen</td><td>the length of the map </td></tr>
    <tr><td class="paramname">map</td><td>the map array </td></tr>
    <tr><td class="paramname">comm</td><td>an MPI communicator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ad48e7b22db921c963efdad2551eb8bec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void piodie </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort program and call MPI_Abort(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>an error message </td></tr>
    <tr><td class="paramname">fname</td><td>name of code file where error occured </td></tr>
    <tr><td class="paramname">line</td><td>the line of code where the error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a06839094738850e58e21bf91304675a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_trace </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain a backtrace and print it to stderr. </p>
<p>This is appended to the text decomposition file.</p>
<p>Note from Jim:</p>
<p>The stack trace can be used to identify the usage in the model code of the particular decomposition in question and so if using the pio performance tool leads to tuning that could be applied in the model you know more or less where to do it.</p>
<p>It's also useful if you have a model bug - then you have 20 or so decomp files and you need to identify the one that was problematic. So it's used as an add to the developer and not used at all by any automated process or tools.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>file pointer to send output to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa51ffd0af16fbe64b37ed23b3c10700a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int default_error_handler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default error handler used when iosystem cannot be located. </p>

</div>
</div>
<a class="anchor" id="a937d6c04c95c3e58980353953d831df5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pio_next_ncid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The PIO library maintains its own set of ncids. </p>
<p>This is the next ncid number that will be assigned. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 22 2019 11:11:12 for PIO by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
